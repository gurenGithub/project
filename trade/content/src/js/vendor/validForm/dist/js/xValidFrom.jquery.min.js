"undefined"==typeof window.xUtils&&(window.xUtils={}),window.xUtils.form=function(){var t={getForm:function(t){var i=null;return i=t?t:$("form:eq(0)")},isValid:function(t){var i=this.getForm(t),e=xUtils.valid.tests(i.find("[data-valid]"));return 0!=e.isPassed},init:function(t,i,e,s){var n=this.getForm(t);xUtils.valid&&xUtils.valid.blurValid&&xUtils.valid.blurValid(n);var a=this;n.on("submit",function(n){n.preventDefault(),a.submit(t,i,e,s)})},submit:function(t,i,e,s){var n=this,a=n.getForm(t);if(!n.isValid(a)||i&&0==i())return!1;var u=a.attr("action");n.ajaxSubmit(u,n.getData(a),e,s)},ajaxSubmit:function(t,i,e,s,n){$.ajax({url:t,data:i,type:"post",error:function(t){n&&n(t,t.Msg)},success:function(t){e&&e(t)}})},getData:function(t){var i=this.getForm(t),e=i.serializeArray();return e}};return t}(),"undefined"!=typeof $&&($.fn.ajaxForm=function(t){xUtils.form.init($(this),t.onBefore,t.onSuccess,t.onFail)},$.fn.ajaxFormSubmit=function(t){xUtils.form.submit($(this),t.onBefore,t.onSuccess,t.onFail)}),"undefined"==typeof window.xUtils&&(window.xUtils={}),"undefined"==typeof window.xUtils.errorMessages&&(window.xUtils.errorMessages={noChinese:"* Chinese character is not allowed.",required:"* This field is required.",email:"* Invalid Email address.",minLength:"* Minimum {{1}} characters required.",maxLength:"* Maximum {{1}} characters allowed.",invalid:"This field is invalid."}),function(t,i){"function"==typeof define&&define.amd?define(i):t.form=i()}(this,function(){function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}var reg={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,chinese:/^[\u0391-\uFFE5]+$/,zipcode:/^[1-9]\d{5}$/,mobile:/^1[3-9][0-9]{9}$/,phone:/^([\+][0-9]{1,3}([ \.\-])?)?([\(][0-9]{1,6}[\)])?([0-9 \.\-]{1,32})(([A-Za-z \:]{1,11})?[0-9]{1,4}?)$/,phoneCn:/^(0[1-9][0-9]{1,2}-?[2-9][0-9]{4,})|([4|8]00[0-9]{7})$/,numbers:/^[0-9]*$/,numbers_dot:/^[0-9\.]*$/,abc:/^[A-Za-z]+$/,numbers_abc_underline:/^\w+$/,url:/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/,username:/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/,price:/^\d+(\.\d+)?$/,chinaIdLoose:/^(\d{18}|\d{15}|\d{17}[xX])$/,chinaZip:/^\d{6}$/,ipv4:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},msg=window.xUtils.errorMessages,types=["email","url"],inArray=function(t,i){for(var e=0;e<t.length;e++)if(t[e]===i)return!0;return!1},test=function(t,i){var e={isPassed:!0,type:""};if(!t.data("valid"))return e;var s=t.data("valid").split(" ");return $.each(s,function(i,s){var n;if(s.indexOf("_")>-1){var a=s.split("_"),u="is"+capitalizeFirstLetter(a[0]);capitalizeFirstLetter(a[0]);if(a[0]=t,form[u])return n=form[u].apply(void 0,a),!!n.isPassed||(e=n,!1);if(n=isRegex(t,s),0==n.isPassed)return e=n,!1}if(void 0!==form["is"+capitalizeFirstLetter(s)]){if(n=form["is"+capitalizeFirstLetter(s)](t),0==n.isPassed)return e=n,!1}else if(n=isRegex(t,s),0==n.isPassed)return e=n,!1}),e},tests=function(t){var i={isPassed:!0,list:[]};return $.each(t,function(t,e){var s=test($(e));s.isPassed||(i.isPassed=!1,i.list.push({type:s.type,$el:$(e)}))}),i},isRequired=function(t){var i=!0;if(t.is("[type=radio]")){if(t.closest("form").find("[name="+t.attr("name")+"]:checked").length)return{isPassed:i,type:"required"};i=!1}return i&&t.is("[type=checkbox]")&&!t.is(":checked")&&(i=!1),(i&&null===t.val()||!t.val().length||"SELECT"==t.prop("tagName")&&t.val()==-1)&&(i=!1),i&&t.data("default")&&t.val()===t.data("default")&&(i=!1),0==$.trim(t.val()).length&&(i=!1),{isPassed:i,type:"required",msg:msg.required}},isNoChinese=function(t){return{isPassed:/^[^\u4e00-\u9fa5]{0,}$/.test(t.val()),type:"noChinese",msg:msg.noChinese}},isRegex=function(t,i){if(0==t.val().length)return{isPassed:!0,type:""};var e=i,i=reg.hasOwnProperty(e)?reg[e]:i;return i.test(t.val())?{isPassed:!0,type:e,msg:msg[e]}:{isPassed:!1,type:e,msg:msg[e]}},isEqual=function(t){return{isPassed:t.val()===$("[name="+arguments[1]+"]").val(),type:"equal",msg:"* fields do not match"}},isMinLength=function(t,i){return{isPassed:0===t.val().length||t.val().length>=parseInt(i),type:"minLength",msg:msg.minLength.replace("{{1}}",i)}},isMaxLength=function(t,i){return{isPassed:t.val().length<=parseInt(i),type:"maxLength",msg:msg.maxLength.replace("{{1}}",i)}},isLessThan=function(){},isMoreThan=function(){},isAjax=function(t){},isFunc=function($el){var func=$el.attr("func");if(!func)return{isPassed:!0,type:"func"};var data=eval(func+".call($el,$el.val())");return{isPassed:data.result,type:"func",msg:data.msg}},form={test:test,tests:tests,isEqual:isEqual,isRegex:isRegex,isRequired:isRequired,isMinLength:isMinLength,isMaxLength:isMaxLength,isNoChinese:isNoChinese,isFunc:isFunc,msg:msg};return form});var index=1;$.fn.errorMessage=function(options){function hide(){var t=$(this).attr("errorMessageid");$(".tooltipster-error[errorMessageid="+t+"]").remove()}if("string"==typeof options)return void eval(options+".call(this)");var animation="tooltipster-"+options.animation,animationSpeed="-webkit-transition-duration: "+options.speed+"ms; -webkit-animation-duration: "+options.speed+"ms; -moz-transition-duration: "+options.speed+"ms; -moz-animation-duration: "+options.speed+"ms; -o-transition-duration: "+options.speed+"ms; -o-animation-duration: "+options.speed+"ms; -ms-transition-duration: "+options.speed+"ms; -ms-animation-duration: "+options.speed+"ms; transition-duration: "+options.speed+"ms; animation-duration: "+options.speed+"ms;",minWidth=options.minWidth?"min-width:"+Math.round(options.minWidth)+"px;":"",maxWidth=options.maxWidth?"max-width:"+Math.round(options.maxWidth)+"px;":"",pointerEvents=options.interactive?"pointer-events: auto;":"",tooltip=$('<div class="tooltipster-base '+options.theme+'" style="'+minWidth+" "+maxWidth+" "+pointerEvents+" "+animationSpeed+'"><div class="tooltipster-content"></div><div class="tooltipster-arrow tooltipster-arrow-top-right tooltipster-error-arrow" ><span><span></span></span></div></div>');$(".tooltipster-content",tooltip).html(options.content),$(this).parent().append(tooltip);var offset=$(this).offset(),left=$(this).width()-tooltip.width()+offset.left-2;tooltip.css({left:left,top:offset.top-tooltip.height()-10});var errorMessageid="errorMessageid-"+index++;tooltip.attr("errorMessageid",errorMessageid),$(this).attr("errorMessageid",errorMessageid),function(t){setTimeout(function(){},3e3)}(tooltip)},window.xUtils.valid=function(){var t=function(){var t=function(t,i){t.errorMessage(i)},i=function(i,e,s){var n=function(){t(i,{position:"top-right",theme:"tooltipster-error",maxWidth:300,contentAsHTML:!0,content:e||window.xUtils.errorMessages.invalid,hideOnClick:!0,trigger:"custom",autoClose:!0,timer:5e3,positionTracker:xUtils.valid.positionTracker,interactive:!0,debug:!1,functionAfter:function(){}})};n()},e=function(t){t.errorMessage("hide")};return{show:t,hide:e,error:i}}(),i=function(i,e){var n=form.test(i);if(0==n.isPassed&&n.isDeferred!==!0){var a,u=i.attr("type"),r=i.attr("errorMessage")||n.msg;a="hidden"==u?i.attr("validTarget")?$(i.attr("validTarget")):i.parent():i,e?s(a,function(){t.error(a,r)}):t.error(a,r)}return n},e=function(e,n){var a={isPassed:!0,list:[]};void 0===n&&(n={});var u="undefined"==typeof n.showOneMessage?this.showOneMessage:n.showOneMessage,r="undefined"==typeof n.autoPositionUpdate?this.autoPositionUpdate:n.autoPositionUpdate;if($.each(e,function(t,e){var s=i($(e));if(!s.isPassed&&(a.isPassed=!1,a.list.push({type:s.type,$el:$(e),msg:s.msg}),u))return!1}),r&&a.list.length>0){var o=a.list[0].$el;t.hide(o),s(o,function(){n.autoFocus&&o.trigger("focus"),t.error(o,a.list[0].msg)})}return a},s=function(t,i){$("html, body").animate({scrollTop:t.offset().top-$(window).height()/2},function(){i&&i(t)})},n=function(e){e.on("focus","[data-valid]",function(){t.hide($(this))}).on("blur","[data-valid]",function(){i($(this))})},a=function(t,i){n(t),t.on("submit",function(e){var s=xUtils.valid.tests(t.find("[data-valid]"),i);s.isPassed===!1&&e.preventDefault()})};return{test:i,tests:e,blurValid:n,tooltips:t,submitValid:a,to:s}}(),"undefined"!=typeof $&&($.fn.isValid=function(){var t=$(this),i=xUtils.valid.tests(t.find("[data-valid]"));return 0!=i.isPassed},$.fn.validForm=function(){var t=$(this);xUtils.valid&&xUtils.valid.blurValid&&xUtils.valid.blurValid(t)});